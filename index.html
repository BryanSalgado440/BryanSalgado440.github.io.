<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    
    <!-- ¬°LA L√çNEA M√ÅS IMPORTANTE PARA EL DISE√ëO RESPONSIVO! -->
    <!-- Esto le dice al celular que use su tama√±o de pantalla real. -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Una Sorpresa Para Ti ‚ù§Ô∏è</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Quicksand:wght@400;600&display=swap');

        body {
            font-family: 'Quicksand', sans-serif;
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh; /* Usamos min-height para mejor adaptabilidad */
            text-align: center;
            background: linear-gradient(315deg, #ffdde1, #ee9ca7, #ffdde1, #ee9ca7);
            background-size: 400% 400%;
            animation: gradientAnimation 15s ease infinite;
            overflow: hidden;
        }
        
        @keyframes gradientAnimation { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }
        
        #heart-container { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 0; pointer-events: none; }
        .heart-shape { position: absolute; bottom: -50px; width: 30px; height: 30px; opacity: 0; background-repeat: no-repeat; background-size: contain; background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="%23ff7999"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>'); animation: floatHeart 15s linear, swayHeart 4s ease-in-out infinite alternate; }
        @keyframes floatHeart { 0% { transform: translateY(0); opacity: 0; } 10% { opacity: 0.7; } 90% { opacity: 0.7; } 100% { transform: translateY(-100vh); opacity: 0; } }
        @keyframes swayHeart { from { transform: translateX(-20px); } to { transform: translateX(20px); } }

        .container {
            background: rgba(255, 255, 255, 0.92);
            padding: 30px 40px;
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
            max-width: 650px;
            width: 100%;
            position: relative;
            z-index: 1;
            box-sizing: border-box; /* Asegura que el padding no desborde el ancho */
        }

        h1 { font-family: 'Dancing Script', cursive; color: #c83b50; font-size: 3em; margin: 0 0 15px 0; display: flex; justify-content: center; align-items: center; }
        .heart { color: #e74c3c; font-size: 0.8em; margin-left: 15px; animation: beat 1.5s infinite ease-in-out; }
        @keyframes beat { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.2); } }
        
        #timer-container { margin: 15px 0 20px 0; padding: 10px; background-color: rgba(255, 221, 225, 0.5); border-radius: 12px; }
        .timer-text { margin: 0 0 5px 0; font-size: 1em; color: #555; font-weight: 600; }
        #countdown { font-size: 1.4em; font-weight: bold; color: #c83b50; }
        #countdown strong { font-weight: 700; }

        .message-box { min-height: 110px; display: flex; justify-content: center; align-items: center; margin-bottom: 20px; overflow: hidden; padding: 0 10px; }
        p#message { font-size: 1.25em; color: #444; font-weight: 600; line-height: 1.6; margin: 0; animation: slideIn 0.8s forwards; }
        @keyframes slideIn { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes slideOut { from { opacity: 1; transform: translateY(0); } to { opacity: 0; transform: translateY(-30px); } }
        .slide-out { animation: slideOut 0.8s forwards; }
        
        .button-group { display: flex; justify-content: center; align-items: center; flex-wrap: wrap; gap: 15px; margin-top: 15px; }
        
        #message-button { font-family: 'Quicksand', sans-serif; font-weight: 600; background: linear-gradient(45deg, #ff758c, #ff7eb3); color: white; border: none; padding: 16px 30px; font-size: 1em; border-radius: 50px; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 8px 20px rgba(255, 126, 179, 0.5); }
        #message-button:hover { transform: translateY(-4px) scale(1.05); }

        .music-button { font-family: 'Quicksand', sans-serif; font-weight: 600; background: #d1c4e9; color: #4527a0; border: none; padding: 10px 20px; font-size: 0.9em; border-radius: 50px; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1); display: none; }
        .music-button:hover { background: #b39ddb; transform: translateY(-2px); }


        /* ======================================================= */
        /* --- ESTILOS RESPONSIVE (LA MAGIA PARA CELULARES) --- */
        /* ======================================================= */
        /* Estas reglas se aplican SOLO si la pantalla mide 768px o menos */
        @media (max-width: 768px) {
            body {
                padding: 10px; /* Menos padding en pantallas peque√±as */
                min-height: -webkit-fill-available; /* Ajuste para altura en iOS */
            }
            .container {
                padding: 20px 15px; /* Menos padding interno para dar m√°s espacio */
                max-width: 95%;   /* El contenedor ocupa casi todo el ancho */
            }
            h1 {
                font-size: 2.2em; /* T√≠tulo m√°s peque√±o */
            }
            p#message {
                font-size: 1.1em; /* Texto del mensaje ligeramente m√°s peque√±o */
            }
            #countdown {
                font-size: 1.15em; /* Contador m√°s peque√±o */
                word-wrap: break-word; /* Permite que el texto se rompa si es muy largo */
            }
            #message-button {
                padding: 14px 25px; /* Bot√≥n principal un poco m√°s compacto */
                font-size: 0.95em;
            }
            .music-button {
                padding: 8px 16px; /* Botones de m√∫sica m√°s peque√±os */
                font-size: 0.85em;
            }
        }
    </style>
</head>
<body>
    <div id="heart-container"></div>
    <div class="container">
        <h1>Para la mujer m√°s hermosa del mundo <span class="heart">‚ù§</span></h1>
        <div id="timer-container">
            <p class="timer-text">Soy el hombre m√°s afortunado desde hace...</p>
            <div id="countdown">Calculando...</div>
        </div>
        <div class="message-box">
            <p id="message">Toca el bot√≥n para empezar esta peque√±a sorpresa que te prepar√© con todo mi cari√±o Nicol.</p>
        </div>
        <div class="button-group">
            <button id="prev-song-button" class="music-button">üéµ Anterior</button>
            <button id="message-button">Siguiente Mensaje M√°gico ‚ú®</button>
            <button id="next-song-button" class="music-button">Siguiente üéµ</button>
        </div>
        <audio id="background-music" loop></audio>
    </div>
    
    <script>
        // El c√≥digo JavaScript no necesita cambios para el dise√±o responsivo,
        // por lo que se mantiene exactamente igual.
        const heartContainer = document.getElementById('heart-container');
        for (let i = 0; i < 25; i++) {
            const heart = document.createElement('div'); heart.classList.add('heart-shape');
            heart.style.left = Math.random() * 100 + 'vw';
            heart.style.animationDuration = (Math.random() * 8 + 7) + 's,' + (Math.random() * 3 + 2) + 's';
            heart.style.animationDelay = Math.random() * 10 + 's';
            heart.style.transform = `scale(${Math.random() * 0.7 + 0.5})`;
            heartContainer.appendChild(heart);
        }

        const audio = document.getElementById('background-music');
        const prevSongButton = document.getElementById('prev-song-button');
        const nextSongButton = document.getElementById('next-song-button');
        const songs = ['cancion_para_nicol.mp3', 'Those_Eyes.mp3']; 
        let currentSongIndex = 0; let musicStarted = false;
        function loadSong(songIndex) { audio.src = songs[songIndex]; audio.play().catch(error => console.log("Reproducci√≥n autom√°tica bloqueada.")); }
        function nextSong() { currentSongIndex = (currentSongIndex + 1) % songs.length; loadSong(currentSongIndex); }
        function prevSong() { currentSongIndex = (currentSongIndex - 1 + songs.length) % songs.length; loadSong(currentSongIndex); }
        prevSongButton.addEventListener('click', prevSong);
        nextSongButton.addEventListener('click', nextSong);

        const messageElement = document.getElementById('message');
        const messageButton = document.getElementById('message-button');
        let currentMessageIndex = -1; let isFirstClick = true;
        const messages = ["Eres la raz√≥n por la que mis d√≠as son m√°s bonitos.", "Contigo, cada momento se convierte en un recuerdo inolvidable.", "No solo est√°s en mi mente, vives en mi coraz√≥n.", "Gracias por ser mi paz en medio del caos y el motivo de mi felicidad.", "Me enamoro de ti un poquito m√°s cada d√≠a que pasa.", "Tu sonrisa tiene el poder de arreglar cualquier cosa.", "Eres mi aventura favorita y mi puerto seguro, todo en uno.", "No imagino un futuro en el que no est√©s a mi lado.", "Llegaste y transformaste mi mundo en un lugar maravilloso.", "Te quiero no solo por como eres, sino por como me haces ser y sentir.", "Eres esa canci√≥n que no puedo dejar de repetir en mi cabeza.", "Por si no te lo he dicho hoy: eres lo mejor que me ha pasado en mi vida.", "El reloj marca la hora, los d√≠as marcan el tiempo pero usted marco lo que un d√≠a fue un sue√±o para m√≠.", "Te quiero mucho Nicol, eres mi princesa.","Gracias por hacerme el hombre m√°s feliz del mundo.", "Se que he estado ausente estos d√≠as pero quiero que recuerdes que siempre te tengo presente.", "Voy a estar contigo aunque la distancia nos separe...", "Te enviar√© un beso con el viento, confi√°ndolo a sus suaves caricias.", "Aunque no me veas, sabr√°s que est√°re all√≠, siempre junto a usted."];
        function handleMainButtonClick() {
            if (!musicStarted) { loadSong(currentSongIndex); musicStarted = true; prevSongButton.style.display = 'inline-block'; nextSongButton.style.display = 'inline-block'; }
            if (isFirstClick) { messageButton.innerHTML = "Te dare el siguiente mensaje üíï"; isFirstClick = false; }
            messageElement.classList.add('slide-out');
            setTimeout(() => {
                let newIndex; do { newIndex = Math.floor(Math.random() * messages.length); } while (newIndex === currentMessageIndex);
                currentMessageIndex = newIndex;
                messageElement.innerText = messages[currentMessageIndex];
                messageElement.classList.remove('slide-out');
            }, 800);
        }
        messageButton.addEventListener('click', handleMainButtonClick);

        const countdownElement = document.getElementById('countdown');
        const startDate = new Date('2023-01-27T00:00:00'); 
        function updateTimer() {
            const now = new Date(); const diff = now - startDate;
            let seconds = Math.floor(diff / 1000); let minutes = Math.floor(seconds / 60); let hours = Math.floor(minutes / 60); let days = Math.floor(hours / 24);
            const years = Math.floor(days / 365.25); days = Math.floor(days % 365.25);
            hours %= 24; minutes %= 60; seconds %= 60;
            countdownElement.innerHTML = `<strong>${years}</strong> a√±os, <strong>${days}</strong> d√≠as, <strong>${hours}</strong>h, <strong>${minutes}</strong>m y <strong>${seconds}</strong>s`;
        }
        setInterval(updateTimer, 1000);
        updateTimer();
    </script>
</body>
</html>
